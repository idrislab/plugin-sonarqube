<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>athena-plugin-sonarqube by luisgros-fixeads</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">athena-plugin-sonarqube</h1>
      <h2 class="project-tagline">Athena SonarQube Plugin</h2>
      <a href="https://github.com/luisgros-fixeads/plugin-sonarqube" class="btn">View on GitHub</a>
      <a href="https://github.com/luisgros-fixeads/plugin-sonarqube/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/luisgros-fixeads/plugin-sonarqube/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="athena-sonarqube-plugin" class="anchor" href="#athena-sonarqube-plugin" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Athena SonarQube Plugin</h1>

<p>This plugin tries to simplify the automation of your <a href="http://docs.sonarqube.org/display/SONAR/Architecture+and+Integration">SonarQube</a> code analysis, it comes
with SonarQube Server and SonarQube Scanner to get you started quickly.</p>

<h2>
<a id="table-of-content" class="anchor" href="#table-of-content" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of content</h2>

<ul>
<li>
<a href="#installation">Installation</a>

<ul>
<li><a href="#install-athena">Athena</a></li>
<li><a href="#install-the-sonarqube-plugin">SonarQube Plugin</a></li>
</ul>
</li>
<li>
<a href="#usage">Usage</a>

<ul>
<li><a href="#commands">Commands</a></li>
<li><a href="#start-the-sonarqube-server">Start SonarQube Server</a></li>
<li><a href="#run-a-code-analysis">Run code analysis</a></li>
<li><a href="#run-a-code-analysis">Quick analysis with SonarLint CLI</a></li>
</ul>
</li>
<li>
<a href="#examples">Examples</a>

<ul>
<li><a href="#using-sonarqube-scanner-options-to-only-analyze-certain-files-and-directories">Using SonarQube Scanner CLI options</a></li>
<li><a href="#using-a-different-sonarqube-server">Using a different SonarQube Server</a></li>
<li><a href="#using-sonarlint-cli-to-perform-a-quick-code-analysis-of-all-php-files-in-a-directory">Using SonarLint and excluding files</a></li>
<li><a href="#installing-and-removing-sonarqube-plugins">Installing, removing and listing SonarQube Plugins</a></li>
</ul>
</li>
<li>
<a href="#plugins">Plugins</a>

<ul>
<li><a href="#installing">Installing</a></li>
<li><a href="#removing">Removing</a></li>
<li><a href="#listing-installed-plugins">Listing</a></li>
<li><a href="#most-used-plugins">Most used</a></li>
</ul>
</li>
<li>
<a href="#cli-options-reference">CLI Options Reference</a>

<ul>
<li><a href="#sonarqube-scanner-options">SonarQube Scanner options</a></li>
<li><a href="#sonarlint-cli-options">SonarLint CLI options</a></li>
</ul>
</li>
<li><a href="#resources">Resources</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#versioning">Versioning</a></li>
<li><a href="#license">License</a></li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<h4>
<a id="install-athena" class="anchor" href="#install-athena" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install Athena</h4>

<h5>
<a id="linux" class="anchor" href="#linux" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Linux</h5>

<p>Using a <em>debian package</em> from Athena <a href="https://github.com/athena-oss/athena/releases">releases</a>:</p>

<div class="highlight highlight-source-shell"><pre>$ sudo dpkg -i <span class="pl-k">&lt;</span>downloaded_debian_package<span class="pl-k">&gt;</span></pre></div>

<p>Using <code>apt-get</code>:</p>

<div class="highlight highlight-source-shell"><pre>$ sudo add-apt-repository ppa:athena-oss/athena
$ sudo apt-get install athena</pre></div>

<h5>
<a id="mac" class="anchor" href="#mac" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Mac</h5>

<p>Using <a href="http://brew.sh/">Homebrew</a>:</p>

<div class="highlight highlight-source-shell"><pre>$ brew tap athena-oss/tap
$ brew install athena</pre></div>

<h5>
<a id="universal" class="anchor" href="#universal" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Universal</h5>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/athena-oss/athena.git</pre></div>

<p><a href="https://github.com/athena-oss/athena">More info</a></p>

<h4>
<a id="install-the-sonarqube-plugin" class="anchor" href="#install-the-sonarqube-plugin" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install the SonarQube plugin</h4>

<div class="highlight highlight-source-shell"><pre>./athena plugins install sonarqube git@github.com:luisgros-fixeads/plugin-sonarqube.git</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<h4>
<a id="commands" class="anchor" href="#commands" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Commands</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube server <span class="pl-k">&lt;</span>start<span class="pl-k">|</span>stop<span class="pl-k">|</span>restart<span class="pl-k">&gt;</span>
athena sonarqube scanner <span class="pl-k">&lt;</span>project-root-directory<span class="pl-k">&gt;</span> [<span class="pl-k">&lt;</span>sonar-scanner-options<span class="pl-k">&gt;</span>]
athena sonarqube sonarlint <span class="pl-k">&lt;</span>project-root-directory<span class="pl-k">&gt;</span> [<span class="pl-k">&lt;</span>sonarlint-cli-options<span class="pl-k">&gt;</span>]
athena sonarqube plugins <span class="pl-k">&lt;</span>install<span class="pl-k">|</span>remove<span class="pl-k">&gt;</span> <span class="pl-k">&lt;</span>plugin-jar-url<span class="pl-k">&gt;</span></pre></div>

<h4>
<a id="start-the-sonarqube-server" class="anchor" href="#start-the-sonarqube-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Start the SonarQube Server</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube server start</pre></div>

<p>This will provide you with a link to access your SonarQube web interface</p>

<h4>
<a id="run-a-code-analysis" class="anchor" href="#run-a-code-analysis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run a code analysis</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube scanner <span class="pl-k">~</span>/myproject/</pre></div>

<p>After that you will be able to access your code analysis report on SonarQube web interface, sometimes
reports might take a little bit of time to display on the web interface depending on the project size, be patient.</p>

<h4>
<a id="quick-analysis-with-sonarlint-cli" class="anchor" href="#quick-analysis-with-sonarlint-cli" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quick analysis with <a href="http://www.sonarlint.org/commandline/index.html">SonarLint CLI</a>
</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube sonarlint <span class="pl-k">~</span>/myproject/</pre></div>

<p>Unlike running code analysis with the SonarQube scanner when using SonarLint you don't need to start the SonarQube Server. After the SonarLint code analysis by default a report directory (<em>sonarlint-report/</em>) with be created inside your project's root directory containing the html report file.</p>

<h2>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Examples</h2>

<h4>
<a id="using-sonarqube-scanner-options-to-only-analyze-certain-files-and-directories" class="anchor" href="#using-sonarqube-scanner-options-to-only-analyze-certain-files-and-directories" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using SonarQube Scanner options to only analyze certain files and directories</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube scanner /home/example/myotherproject/ \
           -Dsonar.sources=vendor/mycode/script.php, somelib/file.php, web/</pre></div>

<h4>
<a id="using-a-different-sonarqube-server" class="anchor" href="#using-a-different-sonarqube-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using a different SonarQube Server</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube scanner /home/example/myotherproject/ \
           -Dsonar.host.url=http://othersonarserver:9000
           -Dsonar.sources=vendor/mylib/, public/example.php</pre></div>

<h4>
<a id="instead-of-passing-scanner-options-creating-a-sonar-projectproperties-file-inside-your-projects-root-directory" class="anchor" href="#instead-of-passing-scanner-options-creating-a-sonar-projectproperties-file-inside-your-projects-root-directory" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Instead of passing scanner options, creating a <a href="https://raw.githubusercontent.com/luisgros-fixeads/plugin-sonarqube/master/sonar-project.properties">sonar-project.properties</a> file inside your project's root directory</h4>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Use basic example file provided by this plugin as a skeleton</span>
curl -o /home/example/someproject/sonar-project.properties \
  https://raw.githubusercontent.com/luisgros-fixeads/plugin-sonarqube/master/sonar-project.properties

athena sonarqube scanner /home/example/someproject/</pre></div>

<h4>
<a id="using-sonarlint-cli-to-perform-a-quick-code-analysis-of-all-php-files-in-a-directory" class="anchor" href="#using-sonarlint-cli-to-perform-a-quick-code-analysis-of-all-php-files-in-a-directory" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using <a href="http://www.sonarlint.org/commandline/index.html">SonarLint CLI</a> to perform a quick code analysis of all php files in a directory</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube sonarlint <span class="pl-k">~</span>/someproject/ --src public/<span class="pl-k">*</span>.php</pre></div>

<h4>
<a id="installing-and-removing-sonarqube-plugins" class="anchor" href="#installing-and-removing-sonarqube-plugins" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing and removing <a href="http://docs.sonarqube.org/display/PLUG/Plugin+Library">SonarQube Plugins</a>
</h4>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># http://docs.sonarqube.org/display/PLUG/SWIFT+Plugin#lastVersion</span>

<span class="pl-c"># Installing</span>
athena sonarqube plugins install \
https://sonarsource.bintray.com/Distribution/sonar-php-plugin/sonar-php-plugin-2.9.0.1664.jar

<span class="pl-c"># Removing</span>
athena sonarqube plugins remove \
https://sonarsource.bintray.com/Distribution/sonar-php-plugin/sonar-php-plugin-2.9.0.1664.jar
<span class="pl-c"># or</span>
athena sonarqube plugins remove sonar-php-plugin-2.9.0.1664.jar

<span class="pl-c"># Listing installed plugins</span>
athena sonarqube plugins</pre></div>

<h2>
<a id="plugins" class="anchor" href="#plugins" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Plugins</h2>

<h4>
<a id="installing" class="anchor" href="#installing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube plugins install \
https://sonarsource.bintray.com/Distribution/sonar-php-plugin/sonar-php-plugin-2.9.0.1664.jar</pre></div>

<h4>
<a id="removing" class="anchor" href="#removing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Removing</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube plugins remove \
https://sonarsource.bintray.com/Distribution/sonar-php-plugin/sonar-php-plugin-2.9.0.1664.jar
<span class="pl-c"># or</span>
athena sonarqube plugins remove sonar-php-plugin-2.9.0.1664.jar</pre></div>

<h4>
<a id="listing-installed-plugins" class="anchor" href="#listing-installed-plugins" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Listing installed plugins</h4>

<div class="highlight highlight-source-shell"><pre>athena sonarqube plugins</pre></div>

<h4>
<a id="most-used-plugins" class="anchor" href="#most-used-plugins" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Most used plugins</h4>

<ul>
<li><a href="http://docs.sonarqube.org/display/PLUG/PHP+Plugin">SonarQube PHP Plugin</a></li>
<li><a href="http://docs.sonarqube.org/display/PLUG/GitHub+Plugin">SonarQube GitHub Plugin</a></li>
<li><a href="https://github.com/racodond/sonar-css-plugin#readme">SonarQube CSS/Less Plugin</a></li>
<li><a href="https://github.com/SonarSource/sonar-javascript#readme">SonarQube JavaScript Plugin</a></li>
<li><a href="http://docs.sonarqube.org/display/PLUG/Java+Plugin">SonarQube Java Plugin</a></li>
<li><a href="http://docs.sonarqube.org/display/PLUG/Plugin+Library">More SonarQube plugins</a></li>
</ul>

<h2>
<a id="cli-options-reference" class="anchor" href="#cli-options-reference" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CLI Options Reference</h2>

<h4>
<a id="sonarqube-scanner-options" class="anchor" href="#sonarqube-scanner-options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SonarQube Scanner options</h4>

<div class="highlight highlight-source-shell"><pre>usage: sonar-scanner [options]
Options:
 -D,--define <span class="pl-k">&lt;</span>arg<span class="pl-k">&gt;</span>     Define property
 -h,--help             Display <span class="pl-c1">help</span> information
 -v,--version          Display version information
 -X,--debug            Produce execution debug output
 -i,--interactive      Run interactively</pre></div>

<p>Some of the analysis properties/parameters that can be defined (<strong>-D</strong>) for SonarQube Scanner </p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">sonar</span><span class="pl-k">.</span><span class="pl-c1">host</span><span class="pl-k">.</span><span class="pl-c1">url</span><span class="pl-k">=</span><span class="pl-c1">http</span>:<span class="pl-c">//thesonarserver:9000</span></span>
<span class="pl-s1"><span class="pl-c1">sonar</span><span class="pl-k">.</span><span class="pl-c1">projectKey</span><span class="pl-k">=</span><span class="pl-c1">athena</span><span class="pl-k">-</span><span class="pl-c1">sonarqube</span><span class="pl-k">-</span><span class="pl-c1">plugin</span></span>
<span class="pl-s1"><span class="pl-c1">sonar</span><span class="pl-k">.</span><span class="pl-c1">projectName</span><span class="pl-k">=</span><span class="pl-c1">Athena</span> <span class="pl-c1">SonarQube</span> <span class="pl-c1">Plugin</span></span>
<span class="pl-s1"><span class="pl-c1">sonar</span><span class="pl-k">.</span><span class="pl-c1">projectVersion</span><span class="pl-k">=</span><span class="pl-c1">1.0</span><span class="pl-k">.</span><span class="pl-c1">0</span></span>
<span class="pl-s1"><span class="pl-c1">sonar</span><span class="pl-k">.</span><span class="pl-c1">projectBaseDir</span><span class="pl-k">=</span><span class="pl-k">/</span><span class="pl-c1">home</span><span class="pl-k">/</span><span class="pl-c1">example</span><span class="pl-k">/</span><span class="pl-c1">projects</span><span class="pl-k">/</span><span class="pl-c1">plugin</span><span class="pl-k">-</span><span class="pl-c1">sonarqube</span></span>
<span class="pl-s1"><span class="pl-c1">sonar</span><span class="pl-k">.</span><span class="pl-c1">sources</span><span class="pl-k">=</span><span class="pl-c1">bin</span><span class="pl-k">/</span>, <span class="pl-c1">docker</span><span class="pl-k">/</span>, <span class="pl-c1">example</span><span class="pl-k">/</span><span class="pl-c1">file</span><span class="pl-k">.</span><span class="pl-c1">php</span></span>
<span class="pl-s1"><span class="pl-c1">sonar</span><span class="pl-k">.</span><span class="pl-c1">sourceEncoding</span><span class="pl-k">=</span><span class="pl-c1">UTF</span><span class="pl-k">-</span><span class="pl-c1">8</span></span>
<span class="pl-s1"><span class="pl-c1">sonar</span><span class="pl-k">.</span><span class="pl-c1">language</span><span class="pl-k">=</span><span class="pl-c1">php</span></span></pre></div>

<p><a href="http://docs.sonarqube.org/display/SONAR/Analysis+Parameters">More info</a></p>

<h4>
<a id="sonarlint-cli-options" class="anchor" href="#sonarlint-cli-options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SonarLint CLI options</h4>

<div class="highlight highlight-source-shell"><pre>usage: sonarlint [options]

Options:
 -u,--update              Update binding with SonarQube server before analysis
 -D,--define <span class="pl-k">&lt;</span>arg<span class="pl-k">&gt;</span>        Define property
 -e,--errors              Produce execution error messages
 -h,--help                Display <span class="pl-c1">help</span> information
 -v,--version             Display version information
 -X,--debug               Produce execution debug output
 -i,--interactive         Run interactively
 --html-report <span class="pl-k">&lt;</span>path<span class="pl-k">&gt;</span>     HTML report output path (relative or absolute)
 --src <span class="pl-k">&lt;</span>glob pattern<span class="pl-k">&gt;</span>     GLOB pattern to identify <span class="pl-c1">source</span> files
 --tests <span class="pl-k">&lt;</span>glob pattern<span class="pl-k">&gt;</span>   GLOB pattern to identify <span class="pl-c1">test</span> files
 --exclude <span class="pl-k">&lt;</span>glob pattern<span class="pl-k">&gt;</span> GLOB pattern to exclude files
 --charset <span class="pl-k">&lt;</span>name<span class="pl-k">&gt;</span>         Character encoding of the <span class="pl-c1">source</span> files</pre></div>

<h2>
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Resources</h2>

<p><a href="https://github.com/athena-oss/athena">Athena</a></p>

<p><a href="http://docs.sonarqube.org/display/SONAR/User+Guide">SonarQube Server User Guide</a></p>

<p><a href="http://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner">Analyzing with SonarQube Scanner</a></p>

<p><a href="http://docs.sonarqube.org/display/PLUG/Plugin+Library">SonarQube Plugin Library</a></p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>Checkout our guidelines on how to contribute in <a href="CONTRIBUTING.md">CONTRIBUTING.md</a>.</p>

<h2>
<a id="versioning" class="anchor" href="#versioning" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Versioning</h2>

<p>Releases are managed using github's release feature. We use <a href="http://semver.org">Semantic Versioning</a> for all
the releases. Every change made to the code base will be referred to in the release notes (except for
cleanups and refactorings).</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Licensed under the <a href="LICENSE">Apache License Version 2.0 (APLv2)</a>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/luisgros-fixeads/plugin-sonarqube">athena-plugin-sonarqube</a> is maintained by <a href="https://github.com/luisgros-fixeads">luisgros-fixeads</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
