{
  "name": "athena-plugin-sonarqube",
  "tagline": "Athena SonarQube Plugin",
  "body": "# Athena SonarQube Plugin\r\n\r\nThis plugin tries to simplify the automation of your [SonarQube](http://docs.sonarqube.org/display/SONAR/Architecture+and+Integration) code analysis, it comes\r\nwith SonarQube Server, SonarQube Scanner and 4 plugins (PHP, CSS, Javascript and GitHub) \r\npre-installed to get you started quickly.\r\n\r\n## Table of content\r\n\r\n- [Installation](#installation)\r\n    - [Athena](#install-athena)\r\n    - [SonarQube Plugin](#install-the-sonarqube-plugin)\r\n- [Usage](#usage)\r\n    - [Commands](#commands)\r\n    - [Start SonarQube Server](#start-the-sonarqube-server)\r\n    - [Run code analysis](#run-a-code-analysis)\r\n    - [Quick analysis with SonarLint CLI](#run-a-code-analysis)\r\n- [Examples](#examples)\r\n    - [Using SonarQube Scanner CLI options](#using-sonarqube-scanner-options-to-only-analyze-certain-files-and-directories)\r\n    - [Using a different SonarQube Server](#using-a-different-sonarqube-server)\r\n    - [Using SonarLint and excluding files](#using-sonarlint-cli-to-perform-a-quick-code-analysis-of-all-php-files-in-a-directory)\r\n    - [Installing, removing and listing SonarQube Plugins](#installing-and-removing-sonarqube-plugins)\r\n- [Plugins](#plugins)\r\n- [CLI Options Reference](#plugins)\r\n    - [SonarQube Scanner options](#sonarqube-scanner-options)\r\n    - [SonarLint CLI options](#sonarlint-cli-options)\r\n- [Resources](#cli-options-reference)\r\n\r\n## Installation\r\n#### Install Athena\r\n```sh\r\nbrew tap athena-oss/tap\r\nbrew install athena\r\n# or\r\ngit clone https://github.com/athena-oss/athena.git\r\n```\r\n[More info](https://github.com/athena-oss/athena)\r\n\r\n#### Install the SonarQube plugin\r\n```sh\r\n./athena plugins install sonarqube git@github.com:luisgros-fixeads/plugin-sonarqube.git\r\n```\r\n\r\n## Usage\r\n\r\n#### Commands\r\n```sh\r\n./athena sonarqube server <start|stop|restart>\r\n./athena sonarqube scanner <project-root-directory> [<sonar-scanner-options>]\r\n./athena sonarqube sonarlint <project-root-directory> [<sonarlint-cli-options>]\r\n./athena sonarqube plugins <install|remove> <plugin-jar-url>\r\n```\r\n#### Start the SonarQube Server\r\n```sh\r\n./athena sonarqube server start\r\n```\r\nThis will provide you with a link to access your SonarQube web interface\r\n\r\n#### Run a code analysis\r\n```sh\r\n./athena sonarqube scanner ~/myproject/\r\n``` \r\nAfter that you will be able to access your code analysis report on SonarQube web interface, sometimes\r\nreports might take a little bit of time to display on the web interface depending on the project size, be patient.\r\n\r\n\r\n#### Quick analysis with [SonarLint CLI](http://www.sonarlint.org/commandline/index.html)\r\n```sh\r\n./athena sonarqube sonarlint ~/myproject/\r\n``` \r\nUnlike running code analysis with the SonarQube scanner when using SonarLint you don't need to start the SonarQube Server. After the SonarLint code analysis by default an html report file with be generated inside your project's root directory.\r\n\r\n## Examples\r\n\r\n#### Using SonarQube Scanner options to only analyze certain files and directories\r\n```sh\r\n./athena sonarqube scanner /home/example/myotherproject/ \\\r\n           -Dsonar.sources=vendor/mycode/script.php, somelib/file.php, web/\r\n```\r\n\r\n#### Using a different SonarQube Server\r\n```sh  \r\n./athena sonarqube scanner /home/example/myotherproject/ \\\r\n           -Dsonar.host.url=http://othersonarserver:9000\r\n           -Dsonar.sources=vendor/mylib/, public/example.php\r\n```\r\n\r\n#### Instead of passing scanner options, creating a [sonar-project.properties](https://raw.githubusercontent.com/luisgros-fixeads/plugin-sonarqube/master/sonar-project.properties) file inside your project's root directory\r\n```sh\r\n# Use basic example file provided by this plugin as a skeleton\r\ncurl -o /home/example/someproject/sonar-project.properties \\\r\n  https://raw.githubusercontent.com/luisgros-fixeads/plugin-sonarqube/master/sonar-project.properties\r\n  \r\n./athena sonarqube scanner /home/example/someproject/\r\n```\r\n\r\n#### Using [SonarLint CLI](http://www.sonarlint.org/commandline/index.html) to perform a quick code analysis of all php files in a directory\r\n```sh  \r\n./athena sonarqube sonarlint ~/someproject/ --src public/*.php\r\n```\r\n\r\n#### Installing and removing [SonarQube Plugins](http://docs.sonarqube.org/display/PLUG/Plugin+Library)\r\n```sh\r\n# http://docs.sonarqube.org/display/PLUG/SWIFT+Plugin#lastVersion\r\n\r\n# Installing\r\n./athena sonarqube plugins install \\\r\nhttps://sonarsource.bintray.com/CommercialDistribution/sonar-swift-plugin/sonar-swift-plugin-1.7.jar\r\n\r\n# Removing\r\n./athena sonarqube plugins remove \\\r\nhttps://sonarsource.bintray.com/CommercialDistribution/sonar-swift-plugin/sonar-swift-plugin-1.7.jar\r\n# or\r\n./athena sonarqube plugins remove sonar-swift-plugin-1.7.jar\r\n\r\n# Listing installed plugins\r\n./athena sonarqube plugins\r\n```\r\n\r\n## Plugins\r\nAthena SonarQube Plugin comes bundled with the following plugins:\r\n* [SonarQube PHP Plugin](http://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner)\r\n* [SonarQube GitHub Plugin](http://docs.sonarqube.org/display/PLUG/GitHub+Plugin)\r\n* [SonarQube CSS/Less Plugin](https://github.com/racodond/sonar-css-plugin#readme)\r\n* [SonarQube JavaScript Plugin](https://github.com/SonarSource/sonar-javascript#readme)\r\n\r\n## CLI Options Reference\r\n\r\n#### SonarQube Scanner options\r\n```sh\r\nusage: sonar-scanner [options]\r\nOptions:\r\n -D,--define <arg>     Define property\r\n -h,--help             Display help information\r\n -v,--version          Display version information\r\n -X,--debug            Produce execution debug output\r\n -i,--interactive      Run interactively\r\n```\r\nSome of the properties that can be defined (**-D**) for SonarQube Scanner \r\n```php\r\nsonar.host.url=http://thesonarserver:9000\r\nsonar.projectKey=athena-sonarqube-plugin\r\nsonar.projectName=Athena SonarQube Plugin\r\nsonar.projectVersion=1.0.0\r\nsonar.projectBaseDir=/home/example/projects/plugin-sonarqube\r\nsonar.sources=bin/, docker/, example/file.php\r\nsonar.sourceEncoding=UTF-8\r\nsonar.language=php\r\n(...)\r\n```\r\n\r\n#### SonarLint CLI options\r\n```sh\r\nusage: sonarlint [options]\r\n\r\nOptions:\r\n -u,--update              Update binding with SonarQube server before analysis\r\n -D,--define <arg>        Define property\r\n -e,--errors              Produce execution error messages\r\n -h,--help                Display help information\r\n -v,--version             Display version information\r\n -X,--debug               Produce execution debug output\r\n -i,--interactive         Run interactively\r\n --html-report <path>     HTML report output path (relative or absolute)\r\n --src <glob pattern>     GLOB pattern to identify source files\r\n --tests <glob pattern>   GLOB pattern to identify test files\r\n --exclude <glob pattern> GLOB pattern to exclude files\r\n --charset <name>         Character encoding of the source files\r\n```\r\n\r\n## Resources\r\n\r\n[Athena](https://github.com/athena-oss/athena)\r\n\r\n[SonarQube Server User Guide](http://docs.sonarqube.org/display/SONAR/User+Guide)\r\n\r\n[Analyzing with SonarQube Scanner](http://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner)\r\n\r\n[SonarQube Plugin Library](http://docs.sonarqube.org/display/PLUG/Plugin+Library)\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}